<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Color Theory Collective</title>
  <meta name="description" content="Tech-forward color education — Mixing Lab, memberships, and creative training." />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><circle cx=%2250%22 cy=%2250%22 r=%2250%22 fill=%22%2300d1b2%22/></svg>">
  <link rel="stylesheet" href="/style.css" />
  <script defer src="/app.js"></script>
  <meta property="og:title" content="Color Theory Collective" />
  <meta property="og:description" content="Real color theory help—built by & for creators." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://color-theory-collective.org" />
</head>
<body>

  <a class="sticky-cta" href="#pricing">Join the Collective</a>

  <header class="site-header">
    <div class="container row">
      <a class="brand" href="#top">Color Theory Collective</a>
      <nav class="nav">
        <a href="#lab">Lab</a>
        <a href="#sessions">Book</a>
        <a href="#gallery">Gallery</a>
        <a href="#pricing">Join</a>
        <a href="/downloads/">Downloads</a>
        <a href="#faq">FAQ</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <section id="top" class="section hero">
    <div class="container">
      <h1>Real color theory help—built by &amp; for creators</h1>
      <p class="muted">Mix smarter. Create faster. Get better results in less time.</p>
      <div class="stack">
        <a class="btn primary" href="#pricing">See memberships</a>
        <a class="btn" href="#lab">Explore the Mixing Lab</a>
      </div>
    </div>
  </section>

  <section id="lab" class="section">
    <div class="container">
      <h2>Mixing Lab</h2>
      <p class="muted">Hands-on experiments, guided sets, and critique to level up your color skills.</p>

      <div class="mixer card">
        <div class="mixer-row">
          <label>Color A
            <input id="mixA" type="color" value="#A855F7" />
          </label>
          <label>Color B
            <input id="mixB" type="color" value="#10B981" />
          </label>
          <label class="ratio">Blend
            <input id="mixRatio" type="range" min="0" max="100" value="50" />
            <span class="muted tiny"><span id="mixPctA">50</span>% A / <span id="mixPctB">50</span>% B</span>
          </label>
        </div>

        <div class="mixer-swatches">
          <div class="chip" id="chipA" title="Color A"></div>
          <div class="chip big" id="chipMix" title="Mixed — tap to copy hex"></div>
          <div class="chip" id="chipB" title="Color B"></div>
        </div>

        <div class="mixer-output">
          <code id="mixHex">#7E88C9</code>
          <button class="btn small" id="copyHexBtn" type="button">Copy hex</button>
          <span id="copyHint" class="muted tiny" role="status" aria-live="polite"></span>
        </div>
      </div>

      <div class="cards three" style="margin-top:1rem">
        <article class="card">
          <h3>Guided Mixes</h3>
          <p>Create calibrated palettes with step-by-step sets.</p>
        </article>
        <article class="card">
          <h3>Critique Sessions</h3>
          <p>Actionable feedback focused on process and results.</p>
        </article>
        <article class="card">
          <h3>Creator Community</h3>
          <p>Share progress, compare swatches, learn together.</p>
        </article>
      </div>
    </div>
  </section>

  <section id="sessions" class="section alt">
    <div class="container">
      <h2>Book a Session</h2>
      <p class="muted">Want 1:1 guidance or a quick jam in the Lab? Grab a time that works for you.</p>

      <div class="cards two">
        <article class="card">
          <h3>Quick Jam (30m)</h3>
          <p class="muted">Target a specific palette, question, or stuck point.</p>
          <a class="btn primary" target="_blank" rel="noopener"
             href="https://calendly.com/your-handle/30min">Book 30 minutes</a>
        </article>

        <article class="card">
          <h3>Deep Dive (60m)</h3>
          <p class="muted">Work through a full set, critique, or color workflow.</p>
          <a class="btn primary" target="_blank" rel="noopener"
             href="https://calendly.com/your-handle/60min">Book 60 minutes</a>
        </article>
      </div>
    </div>
  </section>

  <section id="gallery" class="section">
    <div class="container">
      <h2>Recent work</h2>
      <div class="gallery">
        <figure><img alt="Palette 01" src="https://picsum.photos/seed/ctc1/600/400"></figure>
        <figure><img alt="Palette 02" src="https://picsum.photos/seed/ctc2/600/400"></figure>
        <figure><img alt="Palette 03" src="https://picsum.photos/seed/ctc3/600/400"></figure>
        <figure><img alt="Palette 04" src="https://picsum.photos/seed/ctc4/600/400"></figure>
        <figure><img alt="Palette 05" src="https://picsum.photos/seed/ctc5/600/400"></figure>
        <figure><img alt="Palette 06" src="https://picsum.photos/seed/ctc6/600/400"></figure>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <h2>What creators say</h2>
      <div class="quotes">
        <blockquote>“The Mixing Lab shaved weeks off my project timeline.”<cite>— A. Rivera</cite></blockquote>
        <blockquote>“Finally, color theory that actually helps me ship.”<cite>— J. Morgan</cite></blockquote>
      </div>
    </div>
  </section>

  <section id="pricing" class="section" aria-label="Membership">
    <div class="container">
      <h2>Join the Collective</h2>
      <p class="muted">Choose a pass or membership that fits you best.</p>

      <div class="pricing-grid">
        <article class="card">
          <div class="plan">One-Time Lab Pass</div>
          <div class="price">$ — single session</div>
          <p class="muted">Drop in, try the lab, and keep what you create.</p>
          <div class="stack">
            <a class="btn primary" target="_blank" rel="noopener" href="https://square.link/u/DjiVVB2R?src=sheet">Buy Pass</a>
          </div>
        </article>

        <article class="card">
          <div class="plan">Starter</div>
          <div class="price">Monthly / Annual</div>
          <ul class="muted bullets">
            <li>Core Lab access</li>
            <li>Weekly practice sets</li>
            <li>Community chat</li>
          </ul>
          <div class="stack">
            <a class="btn primary" target="_blank" rel="noopener" href="https://square.link/u/aZ0Ee8HL?src=sheet">Starter — Monthly</a>
            <a class="btn" target="_blank" rel="noopener" href="https://square.link/u/Grd9Q9ws?src=sheet">Starter — Annual</a>
          </div>
        </article>

        <article class="card">
          <div class="plan">Pro</div>
          <div class="price">Monthly / Annual</div>
          <ul class="muted bullets">
            <li>Everything in Starter</li>
            <li>Critique sessions</li>
            <li>Project feedback</li>
          </ul>
          <div class="stack">
            <a class="btn primary" target="_blank" rel="noopener" href="https://square.link/u/lkyaKNeZ?src=sheet">Pro — Monthly</a>
            <a class="btn" target="_blank" rel="noopener" href="https://square.link/u/XBw09o7j?src=sheet">Pro — Annual</a>
          </div>
        </article>

        <article class="card">
          <div class="plan">Elite</div>
          <div class="price">Monthly / Annual</div>
          <ul class="muted bullets">
            <li>Everything in Pro</li>
            <li>1:1 coaching</li>
            <li>Priority reviews</li>
          </ul>
          <div class="stack">
            <a class="btn primary" target="_blank" rel="noopener" href="https://square.link/u/U2cdtt7u?src=sheet">Elite — Monthly</a>
            <a class="btn" target="_blank" rel="noopener" href="https://square.link/u/d4DoJI3Q?src=sheet">Elite — Annual</a>
          </div>
        </article>
      </div>

      <p class="muted tiny" style="margin-top:.75rem">Prefer Cash App? <strong>$Color-Theory-Collective</strong></p>
    </div>
  </section>

  <section id="faq" class="section alt">
    <div class="container">
      <h2>FAQ</h2>
      <details><summary>What do I need to start?</summary><p>A device and your curiosity. We’ll guide the rest.</p></details>
      <details><summary>Can I upgrade later?</summary><p>Absolutely—you can upgrade anytime and keep your progress.</p></details>
      <details><summary>Refunds?</summary><p>Drop-in passes are final; memberships can be canceled any time for the next cycle.</p></details>
    </div>
  </section>

  <section id="contact" class="section">
    <div class="container">
      <h2>Contact</h2>
      <form name="subscribe" method="POST" data-netlify="true" class="form">
        <input type="hidden" name="form-name" value="subscribe" />
        <label>Email for newsletter <input type="email" name="email" required placeholder="you@example.com"></label>
        <button class="btn" type="submit">Subscribe</button>
      </form>

      <form name="contact" method="POST" data-netlify="true" action="/success" class="form" style="margin-top:1rem">
        <input type="hidden" name="form-name" value="contact">
        <label> Name <input name="name" required></label>
        <label> Email <input type="email" name="email" required></label>
        <label> Message <textarea name="message" rows="4" required></textarea></label>
        <button class="btn primary" type="submit">Send</button>
      </form>
      <p class="muted tiny">Or email <a href="mailto:hello@color-theory-collective.org">hello@color-theory-collective.org</a></p>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      <p class="muted tiny">© <span id="year"></span> Color Theory Collective</p>
    </div>
  </footer>

<!-- CTC one-file bundle: features + assistant (keeps your theme intact) -->
<script>
(function(){
  // ===== Utilities =====
  function ready(fn){ if(document.readyState!=='loading') fn(); else document.addEventListener('DOMContentLoaded', fn); }
  function el(t,attrs={},html=''){ const e=document.createElement(t); for(const k in attrs){ e.setAttribute(k,attrs[k]); } if(html) e.innerHTML=html; return e; }

  // ===== Ensure mount point =====
  function ensureRoot(){
    let root = document.getElementById('ctc-root');
    if(!root){ root = document.createElement('div'); root.id = 'ctc-root'; document.body.appendChild(root); }
    return root;
  }

  // ===== Assistant (UI + Live) =====
  function savePass(p){ localStorage.setItem('ctc_member_pass', p); }
  function saveTier(t){ localStorage.setItem('ctc_member_tier', t); }
  function getPass(){ return localStorage.getItem('ctc_member_pass') || ''; }
  function getTier(){ return localStorage.getItem('ctc_member_tier') || 'starter'; }

  async function liveAsk(messages, mode){
    const pass = getPass();
    if(!pass) throw new Error('Enter your Member Pass first.');
    const r = await fetch('/.netlify/functions/assistant', {
      method:'POST',
      headers:{'Content-Type':'application/json','Authorization':'Bearer '+pass},
      body: JSON.stringify({ messages, mode: mode||'pro', tier: getTier() })
    });
    const txt = await r.text();
    if(!r.ok) throw new Error(txt);
    const data = JSON.parse(txt);
    return data.reply || '…';
  }

  function mountAssistant(){
    if(document.getElementById('ctcAssistantBtn')) return; // already added

    const fab = el('div', {}, `
      <button class="btn" id="ctcAssistantBtn">Assistant</button>
      <button class="btn" id="ctcEmergencyBtn" style="background:#d63636;border-color:#d63636">Emergency</button>
    `);
    fab.style.cssText = 'position:fixed;right:18px;bottom:18px;z-index:1001;display:flex;gap:10px';
    document.body.appendChild(fab);

    const modal = el('div', { id:'ctcAssistantModal' }, `
      <div style="width:min(820px,96vw);max-height:92vh;overflow:auto;background:#fff;border:2px solid #6f42c1;border-radius:14px;padding:18px">
        <h3 style="margin-top:0">Color Assistant (Live)</h3>
        <div style="border:2px solid #6f42c1;padding:10px;border-radius:12px">Enter your Member Pass to enable live replies.</div>
        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:8px">
          <input id="ctcMemberPass" placeholder="Paste Member Pass">
          <select id="ctcMemberTier"><option>starter</option><option selected>pro</option><option>elite</option></select>
          <button id="ctcSavePass">Save</button>
        </div>
        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:8px">
          <input id="ctcQAInput" placeholder="Ask about lifts, timing, tone, aftercare, vivids…">
          <button id="ctcQAAsk">Ask (Live)</button>
        </div>
        <div id="ctcQAOut" style="margin-top:10px;min-height:80px;border:2px solid #6f42c1;border-radius:12px;padding:12px"></div>
        <div style="text-align:right;margin-top:10px"><button id="ctcCloseAssistant">Close</button></div>
      </div>
    `);
    modal.style.cssText = 'display:none;position:fixed;inset:0;background:rgba(0,0,0,.4);z-index:1002;align-items:center;justify-content:center';
    document.body.appendChild(modal);

    document.getElementById('ctcAssistantBtn').addEventListener('click', ()=> modal.style.display='flex');
    document.getElementById('ctcCloseAssistant').addEventListener('click', ()=> modal.style.display='none');
    modal.addEventListener('click', e=>{ if(e.target===modal) modal.style.display='none'; });
    document.getElementById('ctcEmergencyBtn').addEventListener('click', ()=> alert('Emergency dispatch: we’ll suggest same-day vendors for your region.'));

    document.getElementById('ctcSavePass').addEventListener('click', ()=>{
      const pass = (document.getElementById('ctcMemberPass').value||'').trim();
      const tier = (document.getElementById('ctcMemberTier').value||'starter');
      if(!pass) return alert('Enter your Member Pass');
      savePass(pass); saveTier(tier); alert('Member Pass saved.');
    });
    document.getElementById('ctcQAAsk').addEventListener('click', async ()=>{
      const q = (document.getElementById('ctcQAInput').value||'').trim();
      const out = document.getElementById('ctcQAOut');
      if(!q) return;
      out.textContent = 'Thinking…';
      try{
        const reply = await liveAsk([{role:'user', content:q}], 'pro');
        out.textContent = reply;
      }catch(e){ out.textContent = 'Assistant error: '+e.message; }
    });
  }

  // ===== Minimal Feature Pages (hash routes) =====
  function mountPages(){
    const root = ensureRoot();

    const css = `.ctc-box{border:2px solid #6f42c1;border-radius:12px;padding:12px;background:#fff;margin:10px 0}
    .ctc-row{display:flex;gap:10px;flex-wrap:wrap}
    .ctc-btn{cursor:pointer;border:2px solid #6f42c1;background:#6f42c1;color:#fff;font-weight:800;padding:10px 14px;border-radius:10px;text-decoration:none}
    .ctc-btn.alt{background:#fff;color:#6f42c1}
    .ctc-note{border:2px solid #6f42c1;border-radius:10px;padding:10px;background:#fff}`;
    const style = document.createElement('style'); style.textContent = css; document.head.appendChild(style);

    function page(title){ const box=el('div',{class:'ctc-box'}); box.appendChild(el('h2',{},title)); return box; }

    const pages = {
      home(){
        const b=page('AI Color Lab — Quick Access');
        const r=el('div',{class:'ctc-row'});
        r.append(el('a',{href:'#pros',class:'ctc-btn'},'Enter Pro Lab'), el('a',{href:'#consumers',class:'ctc-btn alt'},'DIY Assistant'));
        b.append(r, el('div',{class:'ctc-note'},'Cash App: <strong>$Color-Theory-Collective</strong> • Square buttons in Join section.'));
        return b;
      },
      pros(){
        const b=page('Pro Color Formulation Lab');
        b.appendChild(el('div',{class:'ctc-note'},'Pro tools mounting here (mix, tone line, swatch, developer awareness).'));
        return b;
      },
      consumers(){
        const b=page('DIY Color Assistant');
        b.appendChild(el('div',{class:'ctc-note'},'Use the Assistant button (bottom-right) for live Q&A.'));
        return b;
      },
      education(){
        const b=page('Education');
        b.appendChild(el('div',{class:'ctc-note'},'Color wheel & micro-quiz will mount here.'));
        return b;
      },
      lab(){
        const b=page('International Dropship ETA');
        b.appendChild(el('div',{class:'ctc-note'},'ETA helper (editable supplier matrix).'));
        return b;
      },
      cart(){
        const b=page('Membership Tiers');
        b.appendChild(el('div',{class:'ctc-note'},'Use your Square & Cash App buttons already on the page.'));
        return b;
      }
    };

    function render(){
      const route = (location.hash||'#home').slice(1);
      root.innerHTML = '';
      root.appendChild((pages[route]||pages.home)());
    }
    window.addEventListener('hashchange', render);
    render();
  }

  // ===== Start =====
  ready(function(){
    ensureRoot();
    mountPages();
    mountAssistant();
  });
})();
</script>
<!-- /CTC one-file bundle --></body>
</html>
